<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx.xsd
        http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop.xsd">

	<!-- <context:component-scan base-package="com.lip6.services.*" /> <context:annotation-config/> -->
	<bean id="emf" class="com.lip6.util.JpaUtil"
		factory-method="getEmf" />
		
	<bean id="contactImpService" class="com.lip6.domain.services.implementation.ContactServiceImpl"/>
	<bean id="contactGroupImpService" class="com.lip6.domain.services.implementation.ContactGroupServiceImpl"/>
	<bean id="phoneNumImpService" class="com.lip6.domain.services.implementation.PhoneServiceImpl"/>
		
<!--  CONTACT #1 -->
	<bean id="firstContactFromBean"
		class="com.lip6.domain.model.Contact">
		<property name="firstName">
			<value>Pierre-Jean</value>
		</property>
		<property name="lastName">
			<value>Miguel</value>
		</property>
		<property name="email">
			<value>pj@gmail.com</value>
		</property>
		<property name="address">
			<ref bean="adressForContactNumberOne" />
		</property>
		<property name="phones">
			<set>
				<ref bean="numNumberOne" />
				<ref bean="numNumberTwo" />
			</set>
		</property>
		<property name="contactGroups">
			<set>
				<ref bean="firstGroupContactFromBean" />
			</set>
		</property>
	</bean>
	
		<bean id="adressForContactNumberOne"
		class="com.lip6.domain.model.Address">
		<property name="rue">
			<value>55 Rue Diderot</value>
		</property>
		<property name="departement">
			<value>94500</value>
		</property>
		<property name="ville">
			<value>Champigny-Sur-Marne</value>
		</property>
		<property name="pays">
			<value>France</value>
		</property>
		<property name="contact">
			<ref bean="firstContactFromBean" />
		</property>
	</bean>
	
	<bean id="numNumberOne" class="com.lip6.domain.model.PhoneNum">
		<property name="num">
			<value>0678845625</value>
		</property>
		<property name="contact">
			<ref bean="firstContactFromBean" />
		</property>
	</bean>

	<bean id="numNumberTwo" class="com.lip6.domain.model.PhoneNum">
		<property name="num">
			<value>0754854765</value>
		</property>
		<property name="contact">
			<ref bean="firstContactFromBean" />
		</property>
	</bean>
	 
	<!-- END CONTACT #1 -->
	
	<!-- CONTACT #2 -->
	<bean id="secondContactFromBean"
		class="com.lip6.domain.model.Contact">
			<property name="firstName">
				<value>Aymeric</value>
			</property>
		<property name="lastName">
			<value>Laforche</value>
		</property>
		<property name="email">
			<value>al@gmail.com</value>
		</property>
		<property name="address">
			<ref bean="adressForContactNumberTwo" />
		</property>
		<property name="phones">
			<set>
				<ref bean="numNumberThree" />
				<ref bean="numNumberFour" />
			</set>
		</property>
		<property name="contactGroups">
			<set>
				<ref bean="secondGroupContactFromBean" />
			</set>
		</property>
	</bean> 
	
 	<bean id="adressForContactNumberTwo"
		class="com.lip6.domain.model.Address">
		<property name="rue">
			<value>200 Av. de la République</value>
		</property>
		<property name="departement">
			<value>92000</value>
		</property>
		<property name="ville">
			<value>Nanterre</value>
		</property>
		<property name="pays">
			<value>France</value>
		</property>
		<property name="contact">
			<ref bean="secondContactFromBean" />
		</property>
	</bean>

	<bean id="numNumberFour" class="com.lip6.domain.model.PhoneNum">
		<property name="num">
			<value>0554589621</value>
		</property>
		<property name="contact">
			<ref bean="secondContactFromBean" />
		</property>
	</bean>
	
	<bean id="numNumberThree" class="com.lip6.domain.model.PhoneNum">
		<property name="num">
			<value>0147748547</value>
		</property>
		<property name="contact">
			<ref bean="secondContactFromBean" />
		</property>
	</bean> 

	<bean id="firstGroupContactFromBean"
		class="com.lip6.domain.model.ContactGroup">
		<property name="libelle">
			<value>Le groupe numero1</value>
		</property>
		<property name="contacts">
			<set>
				<ref bean="firstContactFromBean" />			
			</set>
		</property>
	</bean>
	
	
	<bean id="secondGroupContactFromBean"
		class="com.lip6.domain.model.ContactGroup">
		<property name="libelle">
			<value>Le groupe numero2</value>
		</property>
		<property name="contacts">
			<set>
				<ref bean="secondContactFromBean" />			
			</set>
		</property>
	</bean>
	
	<!-- CONTACT #2 -->
	
	<!--   	<bean id="secondContactFromBean"
		class="com.lip6.domain.model.Contact">
			<constructor-arg index="0"><value>Aymeric</value></constructor-arg>
			<constructor-arg index="1"><value>Laforche</value></constructor-arg>
			<constructor-arg index="2"><value>al@gmail.com</value></constructor-arg>
			<constructor-arg index="3"><ref bean="adressForContactNumberTwo"/></constructor-arg>
			<constructor-arg name="4">
				<set>
					<ref bean="numNumberThree" />
					<ref bean="numNumberFour" />
				</set>
			</constructor-arg>
			<constructor-arg index="5">
				<set>
					<ref bean="firstGroupContactFromBean" />
				</set>
			</constructor-arg>
	</bean> 
 
	<bean id="adressForContactNumberTwo"
		class="com.lip6.domain.model.Address">
		<constructor-arg index="0"><value>200 Av. de la République</value></constructor-arg>
		<constructor-arg index="1"><value>92000</value></constructor-arg>
		<constructor-arg index="2"><value>Nanterre</value></constructor-arg>
		<constructor-arg index="3"><value>France</value></constructor-arg>
		<constructor-arg index="4"><ref bean="secondContactFromBean" /></constructor-arg>
	</bean>
	
	<bean id="numNumberThree" class="com.lip6.domain.model.PhoneNum">
		<constructor-arg index="0"><value>0147748547</value></constructor-arg>
		<constructor-arg index="1"><ref bean="secondContactFromBean" /></constructor-arg>
	</bean>
	
	<bean id="numNumberFour" class="com.lip6.domain.model.PhoneNum">
		<constructor-arg index="0"><value>0554589621</value></constructor-arg >
		<constructor-arg index="1"><ref bean="secondContactFromBean" /></constructor-arg>
	</bean>
	
	<bean id="firstGroupContactFromBean"
		class="com.lip6.domain.model.ContactGroup">
		<property name="libelle">
			<value>Le groupe numero1</value>
		</property>
		<property name="contacts">
			<set>
				<ref bean="firstContactFromBean" />			
			</set>
		</property>
	</bean>
	
	<bean id="secondGroupContactFromBean"
		class="com.lip6.domain.model.ContactGroup">
		<constructor-arg index="0"><value>Le groupe numero1</value></constructor-arg>
		<constructor-arg index="1">
			<set><ref bean="secondContactFromBean" /></set></constructor-arg>
	</bean> 
		<bean id="firstGroupContactFromBean"
		class="com.lip6.domain.model.ContactGroup">
		<property name="libelle">
			<value>Le groupe numero1</value>
		</property>
		<property name="contacts">
			<set>
				<ref bean="firstContactFromBean" />			
			</set>
		</property>
	</bean>
	
	<bean id="secondGroupContactFromBean"
		class="com.lip6.domain.model.ContactGroup">
		<constructor-arg index="0"><value>Le groupe numero1</value></constructor-arg>
		<constructor-arg index="1">
			<set><ref bean="secondContactFromBean" /></set></constructor-arg>
	</bean> 
	-->

</beans>
